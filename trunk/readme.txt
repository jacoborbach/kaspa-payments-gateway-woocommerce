=== Kaspa Payments Gateway for WooCommerce ===
Contributors: jacobo1
Tags: woocommerce, kaspa, cryptocurrency, payments, blockchain
Requires at least: 5.0
Tested up to: 6.8
Stable tag: 1.0.0
Requires PHP: 7.4
License: GPLv2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html

Accept Kaspa (KAS) cryptocurrency payments in WooCommerce with automatic order confirmation and real-time verification.

== Description ==

Kaspa Payments Gateway for WooCommerce enables your WooCommerce store to accept Kaspa (KAS) cryptocurrency payments. Built with security and simplicity in mind, using KPUB (Extended Public Key) watch-only wallets for non-custodial payment processing.

**Important**: This plugin is not officially affiliated with, endorsed by, or connected to Kaspa, WooCommerce, or their respective owners. Kaspa is a decentralized cryptocurrency, and this plugin is an independent third-party integration.

**Note**: This is an initial release. We recommend testing on a staging site before deploying to production.

= Key Features =

* **KPUB Watch-Only Wallet**: Secure, non-custodial payment processing. No private keys stored.
* **Automatic Payment Detection**: Real-time payment monitoring via Kaspa API
* **Unique Address Per Order**: Each order gets a dedicated payment address for better tracking
* **Real-Time Exchange Rates**: Automatic USD to KAS conversion using CoinGecko API
* **QR Code Support**: Easy payment scanning with QR codes
* **Classic & Block Checkout**: Supports both WooCommerce checkout styles
* **Sequential Address Generation**: Addresses visible in Kaspium wallet automatically
* **Live Price Updates**: Payment amounts update with exchange rate fluctuations

= Security =

* No private keys or mnemonics stored
* KPUB (Extended Public Key) only - safe to store
* All user input sanitized
* WordPress nonce verification on all AJAX requests
* Capability checks for admin functions

= Requirements =

* WordPress 5.0 or higher
* WooCommerce 3.0 or higher
* PHP 7.4 or higher
* Kaspa wallet (Kaspium recommended) with KPUB export capability

= Installation =

1. Upload the plugin files to `/wp-content/plugins/kaspa-payments-gateway-woocommerce/`
2. Activate the plugin through the 'Plugins' menu in WordPress
3. Navigate to WooCommerce → Settings → Payments
4. Click on "Kaspa Payments Gateway" to configure
5. Export your KPUB from your Kaspium wallet
6. Go to WordPress Admin → Kaspa → Wallet Setup
7. Import your KPUB to enable payments

= Configuration =

1. **Export KPUB from Kaspium**:
   * Open your Kaspium wallet
   * Navigate to Settings or Export
   * Copy your Extended Public Key (KPUB) - starts with "kpub"

2. **Configure Wallet in WordPress**:
   * Go to WordPress Admin → Kaspa → Wallet Setup
   * Paste your KPUB
   * Click "Validate & Import KPUB"

3. **Enable Payment Method**:
   * Go to WooCommerce → Settings → Payments
   * Enable "Kaspa Payments"
   * Save changes

= Frequently Asked Questions =

= Does this store my private keys? =

No. This plugin uses KPUB (Extended Public Key) only. Private keys and mnemonics are never stored or required.

= Can I spend from addresses generated by this plugin? =

Yes, but not through WordPress. This plugin is watch-only. To spend funds, use your wallet software (Kaspium) where you control the private keys.

= How does payment detection work? =

The plugin polls the Kaspa API to check if funds have been received at the order payment address. When the required amount is detected, the order is automatically completed.

= What happens if the exchange rate changes? =

Payment amounts update in real-time based on current exchange rates. Customers see the latest KAS amount on the checkout page.

= Will addresses appear in my Kaspium wallet? =

Yes. Addresses are generated sequentially starting from index 0, so they automatically appear in Kaspium wallets which scan low indices.

== External Services ==

This plugin connects to the following third-party services to provide its functionality:

**Kaspa API (https://api.kaspa.org)**
* **Purpose**: Used to check payment addresses for received funds and verify transactions on the Kaspa blockchain.
* **Data Sent**: Payment addresses (public blockchain addresses only, no private keys or personal data).
* **When**: Automatically when checking order payment status and during periodic payment verification.
* **Terms of Service**: https://api.kaspa.org (Kaspa is a decentralized cryptocurrency network)
* **Privacy Policy**: N/A (public blockchain data only)

**CoinGecko API (https://api.coingecko.com)**
* **Purpose**: Provides real-time exchange rates to convert USD order amounts to Kaspa (KAS) cryptocurrency.
* **Data Sent**: API request for Kaspa/USD exchange rate (no user data).
* **When**: When displaying payment amounts on checkout pages and updating live prices.
* **Terms of Service**: https://www.coingecko.com/en/terms
* **Privacy Policy**: https://www.coingecko.com/en/privacy

**QR Server API (https://api.qrserver.com)**
* **Purpose**: Generates QR codes for payment addresses to make it easier for customers to scan and pay.
* **Data Sent**: Payment address and amount (public blockchain data only, no personal information).
* **When**: When displaying the payment QR code on checkout and order pages.
* **Terms of Service**: https://goqr.me/api/terms-of-service/
* **Privacy Policy**: https://goqr.me/api/privacy-policy/

= Changelog =

= 1.0.0 =
* Initial release
* KPUB watch-only wallet support
* Sequential address generation starting from index 0
* Real-time payment detection via Kaspa API
* Live exchange rate updates via CoinGecko
* QR code payment support
* Classic and block checkout compatibility
* Automatic order completion on payment detection

== Upgrade Notice ==

= 1.0.0 =
Initial release. We recommend testing on a staging site before deploying to production.

